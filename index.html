<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Auth & Dashboard UI</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- Landing / Dashboard Page -->
<div class="container" id="landing" style="display:none;">
  <h2>Welcome, <span id="userEmail">User</span> ðŸ‘‹</h2>
  <h3>Upcoming Events</h3>
  <div class="events" id="events">
    <p class="muted">No upcoming events.</p>
  </div>
  <div class="nav">
    <a href="#" onclick="logout()">Logout</a>
  </div>
</div>

<!-- Signup Form -->
<div class="container" id="signup" style="display:none;">
  <h2>Create Account</h2>
  <form onsubmit="event.preventDefault(); signupUser();">
    <input type="email" id="signupEmail" placeholder="you@mail.aub.edu" required>
    <input type="password" id="signupPassword" placeholder="Password (min 8 chars)" minlength="8" required>
    <input type="password" id="signupConfirm" placeholder="Confirm Password" minlength="8" required>
    <button type="submit">Sign Up</button>
    <div class="flash err" id="signupError" style="display:none;"></div>
  </form>
  <p class="muted">Already have an account? <a href="#" onclick="showPage('login')">Login</a></p>
  <div class="nav">
    <a href="#" onclick="showPage('login')">â¬… Back</a>
  </div>
</div>

<!-- Login Form -->
<div class="container" id="login" style="display:block;">
  <h2>Login</h2>
  <form onsubmit="event.preventDefault(); loginUser();">
    <input type="email" id="loginEmail" placeholder="you@mail.aub.edu" required>
    <input type="password" id="loginPassword" placeholder="Password" required>
    <button type="submit">Log In</button>
  </form>
  <p class="muted">No account? <a href="#" onclick="showPage('signup')">Sign Up</a></p>
  <div class="nav">
    <a href="#" onclick="showPage('resetRequest')">Forgot Password?</a>
  </div>
</div>

<!-- Reset Password Request -->
<div class="container" id="resetRequest" style="display:none;">
  <h2>Reset Password</h2>
  <form id="resetRequestForm">
    <input type="email" id="resetRequestEmail" placeholder="Enter your AUB email" required>
    <button type="submit">Send Reset Link</button>
    <div class="flash err" id="resetRequestError" style="display:none;"></div>
  </form>
  <div class="nav">
    <a href="#" onclick="showPage('login')">â¬… Back</a>
  </div>
</div>

<!-- Reset Request Success -->
<div class="container" id="resetSuccess" style="display:none;">
  <div class="flash ok">âœ… Reset link sent! Please check your email.</div>
  <div class="nav">
    <a href="#" onclick="showPage('login')">â¬… Back to Login</a><br>
    <a href="#" onclick="showPage('resetForm')">(Dev only) Open Reset Link</a>
  </div>
</div>

<!-- Reset Password Form -->
<div class="container" id="resetForm" style="display:none;">
  <h2>Set New Password</h2>
  <form id="resetPasswordForm">
    <input type="email" id="resetEmail" placeholder="AUB email" required>
    <input type="password" id="newPassword" placeholder="New password (min 8 chars)" minlength="8" required>
    <input type="password" id="confirmPassword" placeholder="Confirm password" minlength="8" required>
    <button type="submit">Update Password</button>
    <div class="flash err" id="resetError" style="display:none;"></div>
  </form>
  <div class="nav">
    <a href="#" onclick="showPage('login')">â¬… Back</a>
  </div>
</div>

<!-- Reset Complete Success -->
<div class="container" id="resetDone" style="display:none;">
  <div class="flash ok">âœ… Your password has been reset successfully!</div>
  <div class="nav">
    <a href="#" onclick="showPage('login')">â¬… Back to Login</a>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>
